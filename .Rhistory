html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://imonkey-blog.imgix.net/blog/wp-content/uploads/2016/11/26120840/47332506_m-750x500.jpg')
knitr::include_graphics('https://iea.imgix.net/e497e5d1-6811-45e5-8492-7e5aff4bf3b5/GettyImages-1310488699.jpg')
knitr::include_graphics('https://img.i-scmp.com/cdn-cgi/image/fit=contain,width=1098,format=auto/sites/default/files/styles/1200x800/public/d8/images/canvas/2023/01/06/36829c05-48c4-4a19-976a-a1a633e3e736_6648a82f.jpg?itok=U49BESZD&v=1672990647')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://iea.imgix.net/e497e5d1-6811-45e5-8492-7e5aff4bf3b5/GettyImages-1310488699.jpg')
knitr::include_graphics('https://img.i-scmp.com/cdn-cgi/image/fit=contain,width=1098,format=auto/sites/default/files/styles/1200x800/public/d8/images/canvas/2023/01/06/36829c05-48c4-4a19-976a-a1a633e3e736_6648a82f.jpg?itok=U49BESZD&v=1672990647')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://iea.imgix.net/e497e5d1-6811-45e5-8492-7e5aff4bf3b5/GettyImages-1310488699.jpg')
knitr::include_graphics('https://img.i-scmp.com/cdn-cgi/image/fit=contain,width=1098,format=auto/sites/default/files/styles/1200x800/public/d8/images/canvas/2023/01/06/36829c05-48c4-4a19-976a-a1a633e3e736_6648a82f.jpg?itok=U49BESZD&v=1672990647')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://nypost.com/wp-content/uploads/sites/2/2020/02/kenya-plastic-bag-arrest-01.jpg?quality=75&strip=all')
knitr::include_graphics('https://img.i-scmp.com/cdn-cgi/image/fit=contain,width=1098,format=auto/sites/default/files/styles/1200x800/public/d8/images/canvas/2023/01/06/36829c05-48c4-4a19-976a-a1a633e3e736_6648a82f.jpg?itok=U49BESZD&v=1672990647')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://nypost.com/wp-content/uploads/sites/2/2020/02/kenya-plastic-bag-arrest-01.jpg?quality=75&strip=all')
knitr::include_graphics('https://cdn.sanity.io/images/bl383u0v/production/e29ab0eee0ce0f9e87da8ae2c132258faba78164-6000x4000.jpg')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://nypost.com/wp-content/uploads/sites/2/2020/02/kenya-plastic-bag-arrest-01.jpg?quality=75&strip=all')
knitr::include_graphics('https://cdn.sanity.io/images/bl383u0v/production/e29ab0eee0ce0f9e87da8ae2c132258faba78164-6000x4000.jpg')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://sfstandard.com/_next/image/?url=https%3A%2F%2Fsfstandard.com%2Fwp-content%2Fuploads%2F2023%2F01%2FFEATURED_RoboLawyer010922-scaled.jpg')
knitr::include_graphics('https://nypost.com/wp-content/uploads/sites/2/2020/02/kenya-plastic-bag-arrest-01.jpg?quality=75&strip=all')
knitr::include_graphics('https://cdn.sanity.io/images/bl383u0v/production/e29ab0eee0ce0f9e87da8ae2c132258faba78164-6000x4000.jpg')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
graphics.off()
rm(list = ls())
gc()
knitr::opts_chunk$set(echo=FALSE,
message=FALSE,
warning=FALSE,
fig.align = "center",
cache=TRUE,
dpi = 96
)
knitr::include_graphics('https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgdFRqUq5R0CwA7eaE0qAXStL2AAZw3LNOxus3NYoz_JkbWSXz1ydyb839s0Z5qPk_wTGgAYL4B_XZBQRXaSsYtb9RYZZpf8kB8UjhwbGMZBhqswxse110R2OaVc4szGTvcSqZLm4hSCQ3howGlmEMoJxhvonK3MWkp49RquIhciqCJ349fCv6KxvUl/s16000/image4.png')
knitr::include_graphics('https://i.kinja-img.com/gawker-media/image/upload/c_fit,f_auto,g_center,pg_1,q_60,w_1600/d579b84567a3277eafef9710327dc68f.png')
knitr::include_graphics('https://nypost.com/wp-content/uploads/sites/2/2020/02/kenya-plastic-bag-arrest-01.jpg?quality=75&strip=all')
knitr::include_graphics('https://cdn.sanity.io/images/bl383u0v/production/e29ab0eee0ce0f9e87da8ae2c132258faba78164-6000x4000.jpg')
knitr::include_graphics('https://www.pv-magazine.com/wp-content/uploads/2021/09/Hydrogen_supply_system_at_DLR_Cologne.jpg')
library(rvest)
library(tidyverse)
library(tidytext)
library(wordcloud2)
library(stringr)
eng_news <- function(term) {
html_dat <- read_html(paste0("https://news.google.com/search?q=",term,"&hl=en-US&gl=US&ceid=US%3Aen"))
dat <- data.frame(Link = html_dat %>%
html_nodes('.VDXfz') %>%
html_attr('href')) %>%
mutate(Link = gsub("./articles/","https://news.google.com/articles/",Link))
news_dat <- data.frame(
Title = html_dat %>%
html_nodes('.DY5T1d') %>%
html_text(),
Link = dat$Link
)
return(news_dat)
}
df1 <- eng_news("energy")
title_text <- df1$Title
title_text <-
title_text %>%
tolower() %>% # 모두 소문자로 변환
str_replace_all("[[:punct:]]", "") %>% # 구두점 삭제
str_replace_all("\\W", " ") %>% # 알파벳, 숫자, _ 빼고 공백으로 변환
str_replace_all("\\v", "") %>% # 수직 탭 (|) 삭제
str_replace_all("(?i)(energy)", "")
# %>%
# str_replace_all("(?i)(doosan)", "") %>% # 대소문자 관계없이 doosan 삭제
# str_replace_all("(?i)(enerbility)", "") %>%
# str_replace_all("(?i)(heavy)", "")
title_text <-
title_text %>%
tibble() # no=1:nrow(df1), text = title_text
names(title_text)[1] <- "title"
title_text <-
title_text %>%
unnest_tokens(word, title) %>%
anti_join(stop_words) %>%
count(word, sort = TRUE)
names(title_text) <- c("words", "freq")
title_text %>% wordcloud2(minRotation = -pi/6,
maxRotation = -pi/6,
rotateRatio = 1)
